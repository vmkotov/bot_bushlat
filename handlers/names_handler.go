package handlers

import (
	"strings"
)

// nameMapping –∫–∞—Ä—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π: –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è -> –≥–æ—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç
var nameMapping = map[string]string{
	// –°–ª–∞–≤–∏–∫ –∏ –µ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç—ã
	"—Å–ª–∞–≤–∏–∫":      "–°–ª–∞–≤–∏–∫ –∞–±—Å–æ–ª—é—Ç–Ω–æ –∫–æ–Ω—á–µ–Ω–Ω–∞—è –ø–æ–µ–±–æ—Ç–∞",
	"—Å–ø–ª–∞–≤–∏–∫":     "–ù–µ –°–ø–ª–∞–≤–∏–∫, –∞ –í—è—á–µ—Å–ª–∞–≤!", // –î–æ–±–∞–≤–∏–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç "—Å–ª–∞–≤–æ–Ω"
	"–≤—è—á–µ–∑–∞–¥":     "–ù–µ –í—è—á–µ–∑–∞–¥, –∞ –í—è—á–µ—Å–ª–∞–≤!",
	"—Å–≤–µ—Ç–∞":       "—Ä–∞–¥–∏ –Ω–µ–≥–æ –∏–∑ –ò–∂–µ–≤—Å–∫–∞ –æ–Ω–∞ —Å–≤–∞–ª–∏–ª–∞",
	"—Å—É–µ—Ç–ª–∞–Ω–∞":    "—Ä–∞–¥–∏ –Ω–µ–≥–æ –∏–∑ –ò–∂–µ–≤—Å–∫–∞ –æ–Ω–∞ —Å–≤–∞–ª–∏–ª–∞",
	"–≥—É—Å–µ–≤":       "–ù–ò–ö–ò–¢–ê –ì–£–°–ï–í, —Ö–æ—Ä–æ—à–æ –¥–æ–ª–±–ª—é—Å–∏–≤, —Ö–æ—Ä–æ—à–æ —Ä–∞–∑–¥–∞–ª–±–ª–∏–≤–∞—é—Å–ò–≤",
	"–Ω–≥—Ö–¥":        "–ù–ò–ö–ò–¢–ê –ì–£–°–ï–í, —Ö–æ—Ä–æ—à–æ –¥–æ–ª–±–ª—é—Å–∏–≤, —Ö–æ—Ä–æ—à–æ —Ä–∞–∑–¥–∞–ª–±–ª–∏–≤–∞—é—Å–ò–≤",
	"—Ö–∞–º–∑—è":       "—Ö–∞–º–∑—è –∫—Ä—É—Ç–æ–æ–æ–æ–æ–π, –æ–Ω –±—É–¥–µ—Ç –Ω–∏–∑–≤–µ—Ä–≥–Ω—É—Ç",
	"–±—É—à–ª–∞—Ç":      "–î–∞–π—Ç–µ –ë—É—à–ª–∞—Ç—É –∫—Ç–æ-—Ç–æ –≤ –µ–±–ª–æ, –æ–Ω —É–∂–µ –≤—Å–µ—Ö —Ç—É—Ç –∑–∞–µ–±–∞–ª...",
	"vkazanee":    "—ç—Ç–æ –±—É—à–ª–∞—Ç–∏–Ω–≥–∞, –ø—Ä–æ–¥–∞—Å—Ç –∫–æ—Ä–µ—à–µ–π –æ–Ω –Ω–µ –ø–µ—Ä–µ–∂–∏–≤–∞—è",
	"–±–∞–Ω–∞–Ω":       "—ç—Ç–æ –ë–∞–Ω–∞–Ω, –≤—Å–µ—Ö –æ–Ω —Ö—É–µ—Å–æ—Å–∏—Ç, –∞ –≤–æ–æ–±—â–µ –æ–Ω –Ω—ã—Ç–∏–∫..",
	"—Ñ–∏–ª–∏–Ω":       "–æ–æ–æ, –§–∏–ª–∏–Ω, –∑–¥–∞—Ä–æ–≤–∞!",
	"–¥–µ–º–∏–¥–∞":      "–ë—É–¥–∫–∞ –î–µ–º–∏–¥—ã!",
	"–±—É–¥–∫–∞":       "–ë—É–¥–∫–∞ –î–µ–º–∏–¥—ã!",
	"–≥–∞–ª—è—É—Ç–¥–∏–Ω–æ–≤": "–ì–ê–õ–Ø–£–¢–î–ò–ù–û–í –ê–ô–†–ê–¢ –ê–ô–î–ê–†–û–í–ò–ß –î–í–ê–î–¶–ê–¢–¨ –î–ï–í–Ø–¢–¨ –ù–û–õ–¨ –î–í–ê –î–ï–í–Ø–ù–û–°–¢–û –®–ï–°–¢–¨",
	"—Ö—Å–µ":         "–±–∞–Ω–∞–Ω–∞ –±–∞–Ω–∞–Ω–∞ –º–∞–º–∞, —Å–ø–∏–∑–¥–∏–ª –¥–µ–Ω—å–≥–∏ —É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏–∑ –∫–∞—Ä–º–∞–Ω–∞",
	"–ê—Ä—Ç—É—Ä":       "–∑–∞–∫–∞–∑–∞–ª –∫–æ–ª—å—Ü–æ —á–µ—Ä–µ–∑ –ë–∞–Ω–∞–Ω–∞",
	"–∞–π—Ä–∞—Ç":       "—ç—Ç–æ –ê–π—Ä–∞—Ç–∏–Ω–≥–∞, –Ω–∞–∫–∏–¥–∞–ª –≤ –∫–∞–±–∏–Ω—É –æ–Ω —à–∏—Ä—è—é",
	"–¥—É–≤–∞–Ω—è":      "–ª–∞–π–∫, –µ—Å–ª–∏ –î—É–≤–∞–Ω—è, —Ä–µ–ø–æ—Å—Ç, –µ—Å–ª–∏ –î—É—Ç–∞–Ω—è",
	"–≥–æ—Ä—é–Ω–æ–≤":     "@vkazanee, –ø–æ–∑–¥—Ä–∞–≤–∏–ª –ì–æ—Ä—é–Ω–æ–≤–∞ —Å –¥–Ω—Ä?",
	"—Ä—É—Å–ª–∞–Ω":      "–†—É—Å–ª–∞–Ω, –∫—Ä—É—Ç–æ–π, \n–ß–µ—Ç –æ–Ω –≤—Å–µ —Ö—É–∂–µ –∏ —Ö—É–∂–µ —Å –∫–∞–∂–¥—ã–º –≥–æ–¥–æ–º ",
	"–∞–Ω–¥—Ä—é—à":      "–º–∞–º–∞ –∏–∑–≤–∏–Ω–∏ —É –º–µ–Ω—è —Å–∞–º–æ–ª–µ—Ç –ú–û–°–ö–í–ê - –ö–ò–ú–†–´ - –ö–ò–ú–†–´ - –ú–û–°–ö–í–ê",
	"–±–∞—à–∫–∏—Ä":      "@vkazanee, –ø–æ—á–µ–º—É —Ç—ã –±–∞—à–∫–∏—Ä?",
	"–∫–æ—Ä–æ–Ω–∞":      "@vkazanee, –Ω–µ –∫–æ—Ä–æ–Ω–∞ –±—Ä–æ?",
	"–∞–∫–∏–Ω—Ñ–µ–µ–≤":    "–ò–≥–æ—Ä—å –í–ª–∞–¥–∏–º–∏–æ–≤–∏—á –ê–∫–∏–Ω—Ñ–µ–µ–≤ - –ª–µ–≥–µ–Ω–¥–∞ —Ä—É—Å—Å–∫–æ–≥–æ —Ñ—É—Ç–±–æ–ª–∞!",
	"2018":        "2018 - –≤—Å–µ—Ä–æ—Å—Å–∏–π—Å–∫–∞—è –ø—Ä—É—Ö–∞! \n @gainutrus, –°–ü–ê–°–ò–ë–û —Ç–µ–±–µ –∑–∞ –§–ò–ù–ê–õ –ß–ú 18 –≤ –õ—É–∂–Ω–∏–∫–∞—Ö",
	"–ø–æ—Ç—Ä–æ–ª–ª–∏—Ç—å":  "@gainutrus, —Ç—ã –±—Ä–∞—Ç-2 –ø–æ-—Å–µ—Ä—å–µ–∑–∫–µ —Å–º–æ—Ç—Ä–∏—à—å, –∏–ª–∏ —á–∏—Å—Ç–æ –ø–æ—Ç—Ä–æ–ª–ª–∏—Ç—å?",
	"–∞–ª—Å—É":        "–≤–æ—Ç –ê–ª—Å—É –Ω–∞—Å—Ç–æ—è—â–∞—è —Ç–∞—Ç–∞—Ä—Å–∫–∞—è –∂–µ–Ω–∞, –Ω–µ —Ç–æ —á—Ç–æ —ç—Ç–∏ —É–¥–º—É—Ä—Ç—Å–∫–∏–µ",
	"—Å–ø–±":         "–ø—É—Å—Ç–æ—Å–ª–æ–≤—ã –°–ü–ë",

	// üëá –î–û–ë–ê–í–õ–Ø–ô–¢–ï –ù–û–í–´–ï –ò–ú–ï–ù–ê –ò –í–ê–†–ò–ê–ù–¢–´ –ó–î–ï–°–¨
	// –§–æ—Ä–º–∞—Ç:
	// "–≤–∞—Ä–∏–∞–Ω—Ç_–Ω–∞–ø–∏—Å–∞–Ω–∏—è": "–ì–æ—Ç–æ–≤—ã–π–û—Ç–≤–µ—Ç",
}

// CheckForNames –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ä–æ–≤–Ω–æ –æ–¥–Ω–æ–≥–æ –∏–º–µ–Ω–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
func CheckForNames(text, userName string) (bool, string) {
	messageText := strings.ToLower(text)

	var foundResponse string
	foundCount := 0

	// –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏–º–µ–Ω –≤ –∫–∞—Ä—Ç–µ
	for variant, response := range nameMapping {
		if strings.Contains(messageText, variant) {
			foundCount++

			if foundCount == 1 {
				// –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç –ø–µ—Ä–≤–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏
				foundResponse = response
			} else {
				// –ù–∞—à–ª–∏ –≤—Ç–æ—Ä–æ–µ –∏–º—è - –≤—ã—Ö–æ–¥–∏–º
				return false, ""
			}
		}
	}

	// –û—Ç–≤–µ—á–∞–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ —Ä–æ–≤–Ω–æ –æ–¥–Ω–æ –∏–º—è
	if foundCount == 1 {
		return true, foundResponse
	}

	return false, ""
}
